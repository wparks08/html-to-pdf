<!DOCTYPE html>

<html lang="en">

<head>
    <title>Express 4.x - API Reference</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="og:image" content="https://expressjs.com/images/express-facebook-share.png">
    <link rel="icon" type="image/png" href="/images/favicon.png" />
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/dropit.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <link rel="stylesheet"
        href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&amp;amp;subset=latin,latin-ext">
    <link rel="stylesheet" href="/css/en.css">
    <link rel="stylesheet" href="/css/nodeinteractive.css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <script data-cfasync="false" src="/js/ismobile.js"></script>
    <script data-cfasync="false" src="/js/app.js"></script>
    <script data-cfasync="false" src="/js/retina.js"></script>
    <script data-cfasync="false" src="/js/dropit.js"></script>
    <script data-cfasync="false" src="/js/prism.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
</head>

<body>
    <h1>Does this work????????</h1>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            let requestData = {
                "html": document.documentElement.innerHTML
            };

        $.ajax({
                type: "POST",
                url: "http://localhost:3000",
                data: JSON.stringify(requestData),
                contentType: "application/json",
                xhrFields: {
                    responseType: "blob"
                },
                success: function (data) {
                    var blob = new Blob([data], {type:"application/pdf"});
                    console.log(data)
                    let a = document.createElement('a');
                    a.href = window.URL.createObjectURL(blob);
                    a.download = "download.pdf";
                    a.style.display = 'none';
                    document.body.appendChild(a);
                    a.click();
                }
            })
        </script>
</body>

</html>


